{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAM,CACVC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASC,cAAc,uBAC9BE,KAAMH,SAASC,cAAc,sBAC7BG,OAAQJ,SAASC,cAAc,yBAKjC,SAASI,EAAcC,EAAUJ,GAC/B,OAAO,IAAIK,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,EACFF,EAAQ,CAAEF,WAAUJ,UAEpBO,EAAO,CAAEH,WAAUJ,S,GAEpBA,E,IAIPJ,EAAIC,KAAKe,iBAAiB,SAG1B,SAAqBC,GACnBA,EAAEC,iBAEF,IAAMC,EAAe,CACnBf,MAAOJ,EAAII,MAAMgB,MACjBf,KAAML,EAAIK,KAAKe,MACfd,OAAQN,EAAIM,OAAOc,OAGrBC,aAAaC,QA3BK,sBA2BgBC,KAAKC,UAAUL,G,IAXnDnB,EAAIC,KAAKe,iBAAiB,UAc1B,SAAsBC,GACpBA,EAAEC,iBAMF,IALA,IAAgCO,EAAAR,EAAES,cAAcC,SAAxCC,EAAwBH,EAAxBrB,MAAOC,EAAiBoB,EAAjBpB,KAAMC,EAAWmB,EAAXnB,OACfuB,EAAaC,SAASF,EAAMR,OAC5BW,EAAYD,SAASzB,EAAKe,OAC1BY,EAAcF,SAASxB,EAAOc,OAE3Ba,EAAI,EAAGA,EAAID,EAAaC,GAAK,EAAG,CAEvC1B,EAAc0B,EADAA,EAAIF,EAAYF,GAE7BK,MAAK,SAAAC,G,IAAG3B,EAAQ2B,EAAR3B,SAAUJ,EAAK+B,EAAL/B,MACnBgC,EAAAtC,GAASuC,OAAOC,QAAQ,uBAAwCC,OAAf/B,EAAS,QAAY+B,OAANnC,EAAM,M,IAEvEoC,OAAM,SAAAL,G,IAAG3B,EAAQ2B,EAAR3B,SAAUJ,EAAK+B,EAAL/B,MAClBgC,EAAAtC,GAASuC,OAAOI,QAAQ,sBAAqCF,OAAf/B,EAAS,QAAY+B,OAANnC,EAAM,M,IAGrEa,EAAES,cAAcgB,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst ref = {\n  form: document.querySelector('.form'),\n  delay: document.querySelector('input[name=\"delay\"]'),\n  step: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  })\n}\n\nref.form.addEventListener('input', onFormInput);\nref.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormInput(e) {\n  e.preventDefault();\n\n  const feedbackInfo = {\n    delay: ref.delay.value,\n    step: ref.step.value,\n    amount: ref.amount.value,\n  };\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(feedbackInfo));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const { delay, step, amount } = e.currentTarget.elements;\n  const delayValue = parseInt(delay.value);\n  const stepValue = parseInt(step.value);\n  const amountValue = parseInt(amount.value);\n\n  for (let i = 0; i < amountValue; i += 1) {    \n    const delay = i * stepValue + delayValue;\n    createPromise(i, delay)\n    .then(({ position, delay }) => {\n    Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  })\n  .catch(({ position, delay }) => {\n    Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n  });\n  }\n  e.currentTarget.reset();\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$ref","form","document","querySelector","delay","step","amount","$ce04d3a99e08e73b$var$createPromise","position","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","e","preventDefault","feedbackInfo","value","localStorage","setItem","JSON","stringify","_elements","currentTarget","elements","delay2","delayValue","parseInt","stepValue","amountValue","i","then","param","$parcel$interopDefault","Notify","success","concat","catch","failure","reset"],"version":3,"file":"03-promises.9bdede72.js.map"}